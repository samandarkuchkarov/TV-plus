function Bot(){this.getArrayOfImages=function(){return arrayOfImages};this.isGenerate=null;this.setArrayOfImages=function(val){arrayOfImages=[].concat(val)};var stars;this.getStars=function(){return stars};this.setStars=function(val){stars=val};this.setIdinMap=function(val){idInMap=val};this.typeB;this.ActivateBonus=function(_g){points+=500;queueOfAnimations[queueOfAnimations.length]=[3,pointsNums,cell,x-24,y+24,3,24,cell];switch(_g){case"b":for(var m=1;m<enemies.length;m++){if(enemies[m].typeB=="eimprove3"||enemies[m].typeB=="eimprove3bonus"){enemies[m].setLifes(1)}ChoiseTankForDeath(m,true)}queueOfAnimations.splice(queueOfAnimations.length-1-enemies.length+2,5);break;case"h":helmetTime=10000;oldX=enemies[0].getX();oldY=enemies[0].getY();idInMap=7;break;case"l":ClearNumbers(lifes,538,115,nums);lifes++;PrintNumbers(lifes,538,115,nums);break;case"w":wallTime=10000;ChangeStaffWall(5);break;case"m":stars++;switch(stars){case 1:this.typeB="improve1";arrayOfImages=improves1;img=improves1[direction];break;case 2:this.typeB="improve2";arrayOfImages=improves2;img=improves2[direction];break;case 3:this.typeB="improve3";arrayOfImages=improves3;img=improves3[direction];break}ctx.fillRect(x,y,tankWid,tankWid);ctx.drawImage(img,x,y);break;default:bonusTime=10000;break}};this.setImg=function(_img){img=_img};this.getImg=function(){return img};this.setHelmet=function(val){helmet=val};var timeOfLastBullet=0;this.gettimeOfLastBullet=function(){return timeOfLastBullet};this.settimeOfLastBullet=function(val){timeOfLastBullet=val};var tickForBirth;this.getTickForBirth=function(){return tickForBirth};var lifes;this.getLifes=function(){return lifes};this.setLifes=function(val){lifes=val};this.decLifes=function(){lifes--};var killed=false;this.setKilled=function(_val){killed=_val};this.getKilled=function(){return killed};var idInMap=7;this.getIdInMap=function(){return idInMap};var direction;this.getDirection=function(){return direction};this.getX=function(){return x};this.getY=function(){return y};var x=canvasOffsetLeft;var y=canvasOffsetTop;var width=3*cell;var height=3*cell;var img=null;var arrayOfImages=[];this.canMove=function(_x,_y){var c=false,tmpX=_x/cell,tmpY=_y/cell,tmp;for(var i=0;i<dcx[0].length;i++){tmp=map[tmpX+dcx[direction][i]][tmpY+dcy[direction][i]];c=c||(tmp!=0&&tmp!="f")}return !c};this.birthHero=function(_x,_y,_i){if(tickForBirth!=0){ctx.drawImage(birthsT[tickForBirth%4],_x,_y);tickForBirth--}else{ctx.fillRect(_x,_y,tankWid,tankWid);ctx.drawImage(arrayOfImages[1],_x,_y);if(_i==0){helmetTime=3000;idInMap=7}else{idInMap=EnemyId++}tickForBirth--}this.addOnMap()};this.move=function(_i){this.clearMap();var dx=[-1,0,1,0],dy=[0,-1,0,1];x+=tankStep*dx[direction];y+=tankStep*dy[direction];this.addOnMap(x,y)};this.emove=function(_i){if(this.typeB.length>10){ctx1.clearRect(x,y,tankWid,tankWid)}ctx.fillRect(x,y,width,height);if(!this.canMove(x,y)){var rand=Math.floor(Math.random()*4);direction=rand;img=arrayOfImages[rand]}else{if(helmetTime>0&&idInMap==7){moveFrames(x,y,direction)}this.move(x,y,_i)}ctx.drawImage(img,x,y);if(this.typeB.length>10){if((countFlash++)%3==0){ctx1.fillRect(x,y,tankWid,tankWid)}else{ctx1.clearRect(x,y,tankWid,tankWid)}}};this.hmove=function(dir){if(enemies[0].getTickForBirth()<0){direction=dir;ctx.fillRect(x,y,width,height);if(img==arrayOfImages[direction]){if(this.canMove(x,y)){if(helmetTime>0){moveFrames(x,y,direction)}this.move(0)}}else{img=arrayOfImages[direction]}ctx.drawImage(img,x,y)}};this.clearMap=function(){var tmpX=x/cell,tmpY=y/cell;for(var g=0;g<3;g++){map[tmpX+g][tmpY+g]=0;map[tmpX+g][tmpY]=0;map[tmpX][tmpY+g]=0}};this.addOnMap=function(){var tmpX=x/cell,tmpY=y/cell;for(var g=0;g<3;g++){map[tmpX+g][tmpY+g]=idInMap;map[tmpX+g][tmpY]=idInMap;map[tmpX][tmpY+g]=idInMap}};this.init=function(_array,_x,_y,_i){arrayOfImages=[].concat(_array);this.typeB="simple";stars=0;x=_x;y=_y;direction=1;tickForBirth=11;timeOfLastBullet=0;this.isGenerate=false;if(_i==0){lifes=3}else{lifes=1;switch(setOfEnemies[numberOfStage][tankCount-1]){case 1:this.typeB="eimprove1";arrayOfImages=[].concat(eimproves1);break;case 2:this.typeB="eimprove2";arrayOfImages=[].concat(eimproves2);break;case 3:this.typeB="eimprove3";arrayOfImages=[].concat(eimproves333[0]);lifes=4;break}if(tankCount==17||tankCount==9||tankCount==2){if(bonObj!=null){bonObj.deathOfBonus();delete bonObj}for(var f=1;f<enemies.length;f++){if(enemies[f].typeB=="simplebonus"||enemies[f].typeB=="eimprove1bonus"||enemies[f].typeB=="eimprove2bonus"||enemies[f].typeB=="eimprove3bonus"){enemies[f].typeB.length-=5;enemies[f].setArrayOfImages(etanks)}}this.typeB+="bonus";countFlash=0}}img=arrayOfImages[1]}};