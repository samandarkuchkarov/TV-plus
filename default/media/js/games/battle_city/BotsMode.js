function BotsMode(){for(var e=0;e<4;e++){scoreArray[e]=0}yG=38*12;win=-1;enemiesCount=20;for(var i=0;i<maps[numberOfStage].length;i++){map[i]=[].concat(maps[numberOfStage][i])}for(i=0;i<maps[numberOfStage].length;i++){mapForBonus[i]=[].concat(maps[numberOfStage][i])}paused=false;timeCount=0;bonusTime=0;wallTime=-1;helmetTime=0;tankCount=21;game_over=-1;if(numberOfStage==0){for(i=0;i<5;i++){enemies[i]=new Bot()}}else{for(i=1;i<5;i++){enemies[i]=new Bot()}}forPoints=0;ctx.fillStyle="#000000";ctx.fillRect(0,0,492,canvas.height);ctx.fillStyle="#808080";ctx.fillRect(492,0,100,canvas.height);ctx.fillStyle="#000000";image(1)}function BotsModeAfterFolding(){ctx.fillStyle="#000000";ctx.fillRect(0,0,492,canvas.height);ctx.fillStyle="#808080";ctx.fillRect(492,0,100,canvas.height);ctx.fillStyle="#000000";image(3)}function BotsmoveAfterFolding(){ctx4.drawImage(pause,200,238);renderingMap();PrintNumbers(enemies[0].getLifes(),538,115,nums);for(var i=0;i<enemies.length;i++){ctx.drawImage(enemies[i].getImg(),enemies[i].getX(),enemies[i].getY())}}function timerBotsLaunch(){timerBots=setInterval(function(){timeCount+=timerInterval;if(bonusTime!=0){bonusTime-=timerInterval}if(wallTime>0){wallTime-=timerInterval}if(wallTime==0){ChangeStaffWall(1);wallTime=-1}if(helmetTime>0&&game_over<55){helmetTime-=timerInterval;if(enemies[0].getTickForBirth()<0){ctx1.clearRect(enemies[0].getX(),enemies[0].getY(),tankWid,tankWid);imgFrame=frames[(countFrames++)%2];oldX=enemies[0].getX();oldY=enemies[0].getY();ctx1.drawImage(imgFrame,oldX,oldY)}if(helmetTime==0){ctx1.clearRect(enemies[0].getX(),enemies[0].getY(),tankWid,tankWid);enemies[0].setIdinMap(6);enemies[0].addOnMap()}}if(queueOfAnimations.length!=0){for(var q=0;q<queueOfAnimations.length;q++){arrayOfCanvases[queueOfAnimations[q][0]].drawImage(queueOfAnimations[q][1][queueOfAnimations[q][2]],queueOfAnimations[q][3],queueOfAnimations[q][4]);queueOfAnimations[q][5]--;if(queueOfAnimations[q][5]==0){arrayOfCanvases[queueOfAnimations[q][0]].clearRect(queueOfAnimations[q][3],queueOfAnimations[q][4],queueOfAnimations[q][6],queueOfAnimations[q][7]);queueOfAnimations.splice(q,1)}else{queueOfAnimations[q][2]++}}}if(enemies[0].getTickForBirth()>=0){if(enemies[0].getTickForBirth()==11&&!(isTankNoSituated(tx,ty))){}else{enemies[0].birthHero(tx,ty,0)}}if(bonusTime==0&&enemies.length<5&&tankCount>0&&(isTankNoSituated(cell,y)||isTankNoSituated(cell*37,y))&&(timeCount-timeOfLastDeath)>=intervalForRevival){enemies[enemies.length]=new Bot();if(isTankNoSituated(12,y)){enemies[enemies.length-1].init(etanks,cell,y,1);x[enemies.length-1]=cell}else{enemies[enemies.length-1].init(etanks,cell*37,y,1);x[enemies.length-1]=cell*37}tankCount--}if(bonObj!=null){if(isTankOnBonus(enemies[0].getX(),enemies[0].getY(),bonObj.letterInMap)){enemies[0].ActivateBonus(bonObj.letterInMap);bonObj.deathOfBonus();delete bonObj}}for(var g=1;g<enemies.length;g++){if(timeCount%(1000*g)==0&&isTankNoSituated(enemies[g].getX(),enemies[g].getY())&&enemies[g].getTickForBirth()==11&&game_over<0){enemies[g].isGenerate=true}if(enemies[g].getTickForBirth()>=0&&enemies[g].isGenerate&&!enemies[g].getKilled()){enemies[g].birthHero(enemies[g].getX(),enemies[g].getY(),g)}}for(var k=0;k<bullets.length;k++){if(!bullets[k].isFlight){delete bullets[k];bullets.splice(k,1);k--}}for(var i=0;i<enemies.length;i++){if(enemies[i].getTickForBirth()<0&&bonusTime==0){setPositionBots(img,i)}if(game_over==-1){forShoot=(Math.floor(Math.random()*(37-1+1))+1)%chanceForShoot;if(bonusTime==0&&forShoot==1&&enemies[i].getTickForBirth()<0&&(timeCount-enemies[i].gettimeOfLastBullet())>intervalForBullet){birthBull(i);enemies[i].settimeOfLastBullet(timeCount)}}}for(k=0;k<bullets.length;k++){for(var s=0;s<bullets[k].speed;s++){bullets[k].moveB()}}for(i=0;i<enemies.length;i++){if(enemies[i].getKilled()){delete enemies[i];enemies.splice(i,1);i--;timeOfLastDeath=timeCount;ClearNumbers(enemiesCount,538,67);enemiesCount--;PrintNumbers(enemiesCount,538,67,nums)}}if(enemies.length==1&&tankCount==0&&win!=1){win=0;switch(game_over){case 55:for(q=0;q<arrayOfCanvases.length;q++){arrayOfCanvases[q].clearRect(0,0,canvas.width,canvas.height)}if(numberOfStage==maps.length-1){numberOfStage=0;points=0}else{numberOfStage++}ctx.drawImage(ScoreTable,0,0);PrintNumbers(scoreArray[0],480,80,ns);PrintNumbers(scoreArray[1],480,150,ns);PrintNumbers(scoreArray[2],480,220,ns);PrintNumbers((scoreArray[3]-scoreArray[3]%4)/4,480,290,ns);PrintNumbers(points,385,370,ns);game_over++;break;case 120:clearInterval(timerBots);ctx.fillStyle="#808080";ctx.fillRect(0,0,canvas.width,canvas.height);ctx.drawImage(stage,240,238);ctx.drawImage(nums[numberOfStage+1],385,238);ctx.clearRect(0,0,canvas.width,canvas.height);ctx2.clearRect(0,0,canvas2.width,canvas2.height);BotsMode();break;default:game_over++;break}}},timerInterval)}function timerBotsStop(){if(timerBots!=null){clearTimeout(timerBots)}}function setPositionBots(Bot,_i){if(game_over>0){win=1;var xG=16*cell;switch(true){case (game_over==1):game_over++;ctx.clearRect(19*cell,37*cell,tankWid,tankWid);ctx.drawImage(crashEagle,19*cell,37*cell);ctx4.drawImage(gameOver,xG,yG);break;case (game_over==150):clearInterval(timerBots);numberOfStage=0;points=0;ctx2.clearRect(0,0,canvas2.width,canvas2.height);ctx.drawImage(g_o,0,0);enemies.length=0;bullets.length=0;map.length=0;mapForBonus.length=0;ctx.clearRect(0,0,canvas.width,canvas.height);BotsMode();break;case (game_over==55):for(var q=0;q<arrayOfCanvases.length;q++){arrayOfCanvases[q].clearRect(0,0,canvas.width,canvas.height)}ctx.drawImage(ScoreTable,0,0);PrintNumbers(scoreArray[0],480,80,ns);PrintNumbers(scoreArray[1],480,150,ns);PrintNumbers(scoreArray[2],480,220,ns);PrintNumbers((scoreArray[3]-scoreArray[3]%4)/4,480,290,ns);PrintNumbers(points,385,370,ns);game_over++;break;case ((game_over>=50&&game_over<=54)||(game_over>55&&game_over<150)):game_over++;break;default:game_over++;ctx4.clearRect(xG,yG,103,48);yG-=5;ctx4.drawImage(gameOver,xG,yG);break}}else{if(!enemies[_i].getKilled()){enemies[_i].emove(_i);if(enemies[_i].typeB=="eimprove1"||enemies[_i].typeB=="eimprove1bonus"){enemies[_i].emove(_i)}}}}function Botsmove(){renderingMap();var tempLifes=3,tempType="simple",tempArray=[].concat(tanks),tempStars=0;if(numberOfStage>0){tempLifes=enemies[0].getLifes();tempType=enemies[0].typeB;tempArray=[].concat(enemies[0].getArrayOfImages());tempStars=enemies[0].getStars()}enemies[0].init(tanks,tx,ty,0);enemies[0].setLifes(tempLifes);enemies[0].typeB=tempType;enemies[0].setArrayOfImages(tempArray);enemies[0].setStars(tempStars);PrintNumbers(enemies[0].getLifes(),538,115,nums);tankCount--;for(var i=1;i<enemies.length;i++){x[i]=(Math.floor(Math.random()*37)+1)*cell;while(!(isTankNoSituated(x[i],y))){x[i]=(Math.floor(Math.random()*37)+1)*cell}}for(i=1;i<enemies.length;i++){enemies[i].init(etanks,x[i],y,1);tankCount--}timerBotsLaunch()};