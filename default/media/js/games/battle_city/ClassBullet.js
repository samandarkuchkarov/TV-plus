function Bullet(){var age=0;var direction;var x1,y1;this.getX1=function(){return x1};this.getY1=function(){return y1};var own;this.speed=3;this.power=0;this.isFlight=true;this.isCrash=false;this.con=function(_dir,_x,_y,_i){direction=_dir;x1=_x;y1=_y;if(_i==0){own=0}else{own=1}};this.moveB=function(){if(this.isFlight){if(isBulWayFree(x1,y1,direction,[0,"f","s"])){if(age>0){ctx0.clearRect(x1,y1,cell,cell);map[x1/cell][y1/cell]=0}var dx=[-1,0,1,0],dy=[0,-1,0,1];x1+=bulletStep*dx[direction];y1+=bulletStep*dy[direction];ctx0.drawImage(bullet,x1,y1);map[x1/cell][y1/cell]=8}else{if(isBulWayBarrier(x1,y1,direction,1)){CrashWall(x1,y1,direction,1)}else{if(isBulWayEnemy(x1,y1,direction,8)){if(own==0){DeathOfTank(x1,y1,direction);this.isCrash=true}}else{if(isBulWayBarrier(x1,y1,direction,6)){if(own==1){DeathOfTank(x1,y1,direction);this.isCrash=true;if(enemies[0].getKilled()){game_over=1;win=1}else{var val=enemies[0].getLifes();enemies[0].init(tanks,tx,ty,0);if(isTankNoSituated(tx,ty)){enemies[0].birthHero(tx,ty,0)}enemies[0].setLifes(val);ClearNumbers(enemies[0].getLifes()+1,538,115,nums);PrintNumbers(enemies[0].getLifes(),538,115,nums)}}}else{if(isBulWayBarrier(x1,y1,direction,3)||isBulWayBarrier(x1,y1,direction,4)){game_over=1;win=1}else{if(isBulWayBarrier(x1,y1,direction,8)){for(var i=0;i<bullets.length;i++){for(var n=0;n<3;n++){if(bullets[i].getX1()==(x1+dcx1[direction][n]*cell)&&(y1+dcy1[direction][n]*cell)==bullets[i].getY1()){bullets[i].isFlight=false;ctx0.clearRect(bullets[i].getX1(),bullets[i].getY1(),cell,cell);map[bullets[i].getX1()/cell][bullets[i].getY1()/cell]=0}}}}else{if(isBulWayBarrier(x1,y1,direction,5)&&this.power==1){CrashWall(x1,y1,direction,5)}}}}}}this.isFlight=false;if(!this.isCrash){queueOfAnimations[queueOfAnimations.length]=[3,crashBullets,0,x1-tankWid/3,y1-tankWid/3,2,tankWid,tankWid]}}if(!this.isFlight&&map[x1/12][y1/12]==8){ctx0.clearRect(x1,y1,cell,cell);map[x1/cell][y1/cell]=0}}age++}};