function InfoScreen(){var that=this;var infoMenu=new BaseMenu({menuId:"info-menu",menuTag:"ul",itemIdPrefix:"info",itemTag:"li",useFastRefresh:true,hideItemIfEmptyName:false,getItemNameFunc:function(realItemIndex,itemIndex,node){var itemName=infoMenuItems[realItemIndex];if(!node){return true}else{if(!info[itemName]){info[itemName]="..."}var keyElement=document.createElement("div");keyElement.setAttribute("class","key label-"+itemName);keyElement.innerHTML=App.lang.get("label-"+itemName);var valueElement=document.createElement("div");valueElement.setAttribute("class","value");valueElement.innerHTML=Helper.cropString(info[itemName],30,"...");node.appendChild(keyElement);node.appendChild(valueElement)}},onItemClick:function(index){that.key_right()},onItemMouseOver:function(index){var sourceItems=infoMenu.getCurrentPage()*infoMenu.getNumberOfDisplayItems()+index;infoMenu.setSelectedItem(index,sourceItems)}});var info={"account-name":"...","account-id":"...","ip-address":"...","mac-address":"...","contract-number":"...",serial:"...",model:"...","firmware-version":"...","portal-version":"...","server-version":"...","activation-days-left":"..."};var infoMenuItems=["account-name","account-id","contract-number","activation-days-left","model","serial","mac-address","ip-address","firmware-version","portal-version","server-version"];this.setName=function(value){if(value!==" "){info["account-name"]=value}};this.setAccountId=function(value){info["account-id"]=value};this.setIpAddress=function(value){info["ip-address"]=value};this.setMacAddress=function(value){info["mac-address"]=value};this.setContractNumber=function(value){info["contract-number"]=value};this.setDeviceSerial=function(value){info.serial=value};this.setDeviceModel=function(value){info.model=value};this.setFirmware=function(value){info["firmware-version"]=value};this.setPortalVersion=function(value){info["portal-version"]=value};this.setMiddlewareVersion=function(value){info["server-version"]=value};this.setActivationDaysLeft=function(value){if(parseInt(value)<=0){info["activation-days-left"]=App.lang.get("auto-renewal")}else{info["activation-days-left"]=value+" "+App.lang.get("days")}};this.init=function(){_InfoScreen.init();if(App.clientSettings.allow_autoregistration){Helper.showById("show-password-button")}var that=this;App.data.requestPortalVersion(false,function(templateVersion){App.data.requestPortalVersion(true,function(engineVersion){var portalVersionStr="Impuls v. "+templateVersion+", engine v. "+engineVersion;that.setPortalVersion(portalVersionStr);infoMenu.redrawMenuItems()})})};this.show=function(){infoMenu.clear();infoMenu.setNumberOfDisplayItems(11);infoMenu.setNumberOfSourceItems(infoMenuItems.length);infoMenu.setSelectedItem(0,0);infoMenu.redrawMenuItems();_InfoScreen.show()};this.key_back=function(){App.display.showScreen("account")};this.key_enter=function(){if(App.clientSettings.allow_autoregistration){App.popupMessageScreen.setMessageText(App.lang.get("password-message")+" "+App.settings.getPassword());App.display.showPopupScreen("popup-message")}};this.key_right=function(){App.popupMessageScreen.setMessageText(info[infoMenuItems[infoMenu.getSelectedSourceItem()]]);App.display.showPopupScreen("popup-message")};this.key_down=function(){infoMenu.setNextItem()};this.key_up=function(){infoMenu.setPreviousItem()};this.key_menu=function(){App.display.showScreen("mainmenu")};this.key_exit=function(){if(App.player.isActive()){App.display.showScreen("player")}else{App.display.showScreen("mainmenu")}};this.key_backspace=function(){this.key_exit()};this.key_power=function(){App.switchStandBy()};this.wheel=function(delta){};this.key_long_enter=function(){if(App.showHelpButtonPanelFlag){var keys=[{action:"back",label:"label-back"}];App.popupKeyPanelScreen.setKeysForPanel(keys);App.popupKeyPanelScreen.setParentScreen("info");App.display.showPopupScreen("popup-key-panel")}else{this.key_enter()}}}_InfoScreen=new BaseScreen();InfoScreen.prototype=_InfoScreen;