function SignupScreen(){var maxNumberLength=11;this.show=function(){Helper.setValue("signup-phone-number","");_SignupScreen.show()};this.accountRegister=function(options,customCallback){if(options.mobile_phone_number){options.comment="Registration from "+App.device.getDeviceKind()}else{options.comment="Autoregistration from "+App.device.getDeviceKind()}App.data.requestAccountRegister(options,function(error,credentials){if(customCallback instanceof Function){customCallback(error,credentials)}})};this.key_digit=function(digit){var id="signup-phone-number";if(Helper.getValue(id).length<maxNumberLength){Helper.setValue(id,Helper.getValue(id)+digit)}};this.key_backspace=function(){var id="signup-phone-number";var value=Helper.getValue(id);if(value.length>0){value=value.substr(0,value.length-1);Helper.setValue(id,value)}};this.key_left=function(){this.key_backspace()};this.key_right=function(){App.keyboardScreen.setMaxInputLength(maxNumberLength);App.keyboardScreen.setCallback(function(str){Helper.setValue("signup-phone-number",str)});App.display.showPopupScreen("keyboard","signup-phone-number")};this.key_enter=function(){var phone=Helper.getValue("signup-phone-number");if(phone.length>=2){var options={mobile_phone_number:phone,send_sms:1,device_uid:App.device.getDeviceUID()};Helper.addClass("signup-screen-container","loader");this.accountRegister(options,function(error){Helper.removeClass("signup-screen-container","loader");switch(parseInt(error)){case 0:App.display.showScreen("login");App.popupMessageScreen.setMessageText(App.lang.get("signup-success-message"));break;case 1:App.popupMessageScreen.setMessageText(App.lang.get("signup-error-message"));break;case 2:App.popupMessageScreen.setMessageText(App.lang.get("signup-deny-by-provider"));break;case 3:App.popupMessageScreen.setMessageText(App.lang.get("signup-exhaustion-accounts-from-ip"));break;case 4:App.popupMessageScreen.setMessageText(App.lang.get("signup-error-message"));break;case 5:App.popupMessageScreen.setMessageText(App.lang.get("signup-invalid-phone-number"));break;case 6:App.popupMessageScreen.setMessageText(App.lang.get("signup-already-exists-message"));break;case 7:App.popupMessageScreen.setMessageText(App.lang.get("signup-invalid-register-parameters"));break;default:App.popupMessageScreen.setMessageText(App.lang.get("signup-error-message"));break}App.display.showPopupScreen("popup-message")})}};this.key_back=function(){App.display.showScreen("login")};this.wheel=function(){return true};this.key_phone=function(){this.key_right()};this.key_long_enter=function(){if(App.device.getDeviceKind()==="android_stb"){var keys=[{action:"back",label:"label-back"}];App.popupKeyPanelScreen.setKeysForPanel(keys);App.popupKeyPanelScreen.setParentScreen("signup");App.display.showPopupScreen("popup-key-panel")}}}_SignupScreen=new BaseScreen();SignupScreen.prototype=_SignupScreen;