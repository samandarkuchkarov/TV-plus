function ServiceInfoScreen(){var that=this;var documentMenuConfig={impuls:{numberOfColumns:3,numberOfRows:3,itemLength:40},impuls_x:{numberOfColumns:1,numberOfRows:7,itemLength:27}};var style="impuls";var documentsMenu=new BaseMenu({menuId:"documents-menu",menuTag:"div",itemIdPrefix:"doc",itemTag:"div",useFastRefresh:true,hideItemIfEmptyName:true,loopMenuFromBeginToEnd:false,loopMenuFromEndToBegin:false,getItemNameFunc:function(realItemIndex,itemIndex,node){var doc=App.data.getLegalDocument(realItemIndex);if(doc){if(!node){return true}else{node.innerHTML=Helper.cropString(doc.name,documentMenuConfig[style]["itemLength"],"...")}}},onItemClick:function(index){that.key_enter()},onItemMouseOver:function(index){var sourcePosition=documentsMenu.getCurrentPage()*documentsMenu.getNumberOfDisplayItems()+index;documentsMenu.setSelectedItem(index,sourcePosition)},getItemClassNameFunc:function(sourceItemIndex,displayItemIndex){return"document button"}});this.init=function(){Helper.setHtml("service-info",App.clientSettings.service_description);documentsMenu.setSelectedItem(0,0);_ServiceInfoScreen.init()};this.show=function(){style=App.settings.getStyleName();Helper.addClass("service-info-screen-container","loader");App.data.requestLegalDocumentList({},function(error){Helper.removeClass("service-info-screen-container","loader");documentsMenu.clear();if(error==0){var nrows=documentMenuConfig[style]["numberOfRows"];var ncolumns=documentMenuConfig[style]["numberOfColumns"];var n=ncolumns*nrows;var nt=App.data.getNumberOfLegalDocuments();if(nt<n){if(nt<=ncolumns){ncolumns=nt;nrows=1;n=ncolumns}else{n=nt}}documentsMenu.setNumberOfDisplayItems(n);documentsMenu.setNumberOfSourceItems(nt);documentsMenu.setNumberOfColumns(ncolumns);documentsMenu.setNumberOfRows(nrows);documentsMenu.redrawMenuItems()}});_ServiceInfoScreen.show()};this.key_back=function(){App.display.showScreen("account")};this.key_enter=function(){var doc=App.data.getLegalDocument(documentsMenu.getSelectedSourceItem());if(doc){App.legalDocumentScreen.setDocument(doc);App.legalDocumentScreen.setParentScreen("service-info");App.display.showScreen("legal-document")}};this.key_right=function(){documentsMenu.setNextItem()};this.key_left=function(){documentsMenu.setPreviousItem()};this.key_down=function(){documentsMenu.setDownItem()};this.key_up=function(){documentsMenu.setUpItem()};this.key_menu=function(){App.display.showScreen("mainmenu")};this.key_exit=function(){if(App.player.isActive()){App.display.showScreen("player")}else{App.display.showScreen("mainmenu")}};this.key_backspace=function(){this.key_exit()};this.key_power=function(){App.switchStandBy()};this.key_long_enter=function(){if(App.showHelpButtonPanelFlag){var keys=[{action:"back",label:"label-back"}];App.popupKeyPanelScreen.setKeysForPanel(keys);App.popupKeyPanelScreen.setParentScreen("info");App.display.showPopupScreen("popup-key-panel")}else{this.key_enter()}}}_ServiceInfoScreen=new BaseScreen();ServiceInfoScreen.prototype=_ServiceInfoScreen;